import{c as n}from"./index.768f092d.js";import{a as k,o as h}from"./index.f9c77be4.js";import{E as y}from"./index.25741660.js";import{h as R,a as i,i as C,A as O,a2 as P,B as f,k as c,E as $,u as d}from"./framework.ee329e82.js";const E=R({__name:"date-picker",props:k,emits:["focus","calendar-change"],setup(u,{expose:D,emit:l}){const a=u,r=i(),s=i();let o=0;const m=e=>{const[t]=e;s.value=t,o++,l("calendar-change",e)},p=e=>{o%2||(s.value=null,o=0),l("focus",e)},g=e=>{if(!s.value||!a.dateRangeLimit)return!1;const t=n(s.value).valueOf()-(a.dateRangeLimit-1)*24*60*60*1e3,v=n(s.value).valueOf()+(a.dateRangeLimit-1)*24*60*60*1e3;return e.getTime()<t||e.getTime()>v},b=e=>{var t;return a.beforeDisabledDate&&e.getTime()<n(a.beforeDisabledDate).subtract(1,"day").valueOf()||a.afterDisabledDate&&e.getTime()>n(a.afterDisabledDate).valueOf()?!0:g(e)||((t=a.disabledDate)==null?void 0:t.call(a,e))};return D({focus:()=>{var e;(e=r.value)==null||e.focus()},handleOpen:()=>{var e;(e=r.value)==null||e.handleOpen()},handleClose:()=>{var e;(e=r.value)==null||e.handleClose()}}),(e,t)=>(C(),O(d(y),$({ref_key:"elDatePickerRef",ref:r},{...d(h)(a,["beforeDisabledDate","afterDisabledDate","dateRangeLimit"]),...e.$attrs},{"disabled-date":b,onCalendarChange:m,onFocus:p}),P({_:2},[e.$slots.default?{name:"default",fn:f(()=>[c(e.$slots,"default")]),key:"0"}:void 0,e.$slots["range-separator"]?{name:"range-separator",fn:f(()=>[c(e.$slots,"range-separator")]),key:"1"}:void 0]),1040))}});export{E as _};
